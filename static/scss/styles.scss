// ========================
// Variables
// ========================
$blood-red: rgb(139,0,0);
$transparent-blood: rgba(139,0,0,0.5);
$parchment: rgba(250,235,215,1);
$transparent-parchment: rgba(250,235,215,0.3);
$ink-brown: rgb(45,20,20);
$shadow: -1px 6px 3px rgba(0,0,0,0.5);

:root {
  --blood-red: #{$blood-red};
  --transparent-blood: #{$transparent-blood};
  --parchment: #{$parchment};
  --transparent-parchment: #{$transparent-parchment};
  --ink-brown: #{$ink-brown};
  --shadow: #{$shadow};
}

// ========================
// Mixins
// ========================
@mixin hover-sweep($color) {
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background-color: $color;
    transform: skewX(-45deg);
    transition: all 0.5s ease;
  }

  &:hover::before {
    left: 100%;
  }
}

// ========================
// Base
// ========================
*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  // width: fit-content;
  max-width: 90%;
  text-align: center;
  margin: 40px auto !important;
  // font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  // padding: 2px;
}

h1, h2, h3, h4, h5 {
  margin: 0.5rem 0;
  padding: 0;
}

label, input, select, button {
  margin: 0.25rem;
  padding: 0.25rem;
}

button,
input,
select {
  font-family: inherit;
  font-size: inherit;
  box-sizing: border-box;
  border: none;
  outline: none;
}
button {
  cursor: pointer;
}

%frosted-box {
  background-color: $transparent-parchment !important;
  border-radius: 5px !important;
  border: none !important;
}

input, select, .white-box, .form-control {
  @extend %frosted-box;
}

.white-box, .output, .character-summary {
  padding: 10px;
}

// ========================
// Layout / Containers
// ========================
.image-container {
  background-image: url(/static/images/bg.jpg);
  background-repeat: no-repeat;
  background-size: cover;
  width: 100vw;
}

.form-margin {
  margin: 0 auto !important;
}

// ========================
// Buttons
// ========================
button.animate {
  background-color: $blood-red !important;
  color: $parchment;
  position: relative;
  overflow: hidden;
  font-size: 1.2rem;
  padding: 0 .5rem;
  border-radius: 5px;
  border: none;

  @include hover-sweep($transparent-parchment);
}

// ========================
// Misc
// ========================
hr {
  width: 100%;
  border: solid $blood-red 1px;
  margin: 1rem 0;
}

.personal-links {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.75rem;
  position: fixed;
  left: 1rem;
  transform: translateY(-50%);
  z-index: 1000;

  a img {
    width: 40px;
    transition: transform 0.2s ease;
  }

  a:hover img {
    transform: scale(1.1);
  }
}


.emojis {
  background-color: $transparent-blood;
  border-radius: 5px;
}

.error-message {
  color: red;
}

.dice-roller {
  display: block;
  text-align: center;
}

.stat-assigner {
  width: 33%;

  select {
    width: 66%;
  }
}

.character-summary {
  background-image: url(/static/images/character-bg.jpg);
  background-size: cover;
  text-align: start;
  padding: 1.5rem;
  color: $ink-brown;
}

.custom-shadow {
  filter: drop-shadow($shadow) !important;
}

// ========================
// Ripped Edges
// ========================
$ripped-points: 
  1% 2%, 3.5% 0.1%, 8.9% 2.7%, 16.2% 1.2%, 19.7% 0.8%, 24.7% 2%, 
  31.2% 0%, 35.9% 2.3%, 40.6% 0.5%, 47.1% 1.8%, 49.9% 1%, 53.8% 2.5%, 
  62.2% 0.4%, 67.3% 1.2%, 70.3% 0.3%, 75.8% 1.4%, 78.5% 1.7%, 84% 2.6%, 
  91.1% 0.5%, 93.6% 2.4%, 97.3% 0.3%, 98.9% 6%, 98.1% 11.4%, 98.6% 15.5%, 
  97.3% 17.8%, 97.7% 27.4%, 98.3% 28.5%, 99.7% 34.1%, 98.8% 41.9%, 98.3% 45.7%, 
  98.4% 50.9%, 98.7% 57.4%, 99.6% 60.4%, 99.4% 66.6%, 99.2% 69.5%, 97.4% 77.1%, 
  98.1% 82.3%, 99.9% 83.5%, 98.2% 91.5%, 99.3% 95.3%, 98% 98.6%, 93.6% 97.4%, 
  90.3% 98.3%, 86.8% 98.3%, 78.6% 98.5%, 76.4% 99.2%, 69.7% 99.8%, 64.2% 99.3%, 
  61.8% 99.2%, 57.2% 98.1%, 48.7% 98.3%, 46.8% 99%, 39.6% 98.9%, 33.8% 97.3%, 
  28.2% 99.4%, 27% 98.3%, 22.1% 98.6%, 13.1% 97.1%, 8.7% 99.3%, 2.7% 97.4%, 
  2% 98.2%, 2.1% 94.3%, 0.7% 90.5%, 0.9% 86.3%, 2.2% 78.2%, 0.4% 76.7%, 
  1.2% 72.1%, 2% 64%, 1.4% 59.8%, 0.4% 57.3%, 0.3% 49.1%, 2.9% 44.7%, 
  1.9% 41.3%, 0.8% 35.7%, 2.9% 31.3%, 0.8% 24.9%, 2.7% 20.5%, 0.8% 17.4%, 
  2.5% 8.6%, 1.1% 5.5%;

.ripped-edges {
  clip-path: polygon(#{$ripped-points});
  padding: 2rem 3rem;
  filter: brightness(1.25);
}


// ========================
// Responsive Personal Links
// ========================
@media (max-width: 768px) {
  .personal-links {
    position: static;
    flex-direction: row;
    justify-content: center;
    margin-bottom: 1rem;
    transform: none;
  }
}